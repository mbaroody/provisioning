/*!
 * AMBOSS Anki Add-on
 * 
 * Copyright (C) 2019-2022 AMBOSS MD Inc. <https://www.amboss.com/us>
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version, with the additions
 * listed at the end of the license file that accompanied this program.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 * 
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 * 
 */
var ambossAddon="object"==typeof ambossAddon?ambossAddon:{};ambossAddon.analytics=function(Q){var U={};function F(B){if(U[B])return U[B].exports;var s=U[B]={i:B,l:!1,exports:{}};return Q[B].call(s.exports,s,s.exports,F),s.l=!0,s.exports}return F.m=Q,F.c=U,F.d=function(Q,U,B){F.o(Q,U)||Object.defineProperty(Q,U,{enumerable:!0,get:B})},F.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},F.t=function(Q,U){if(1&U&&(Q=F(Q)),8&U)return Q;if(4&U&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var B=Object.create(null);if(F.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:Q}),2&U&&"string"!=typeof Q)for(var s in Q)F.d(B,s,function(U){return Q[U]}.bind(null,s));return B},F.n=function(Q){var U=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(U,"a",U),U},F.o=function(Q,U){return Object.prototype.hasOwnProperty.call(Q,U)},F.p="",F(F.s=2)}({2:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"track\", function() { return track; });\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n// disable cookies\ndocument.__defineGetter__('cookie', function () {\n  return '';\n});\nconst warnCopy = console.warn;\nconsole.warn = function log() {\n  if (arguments && arguments[0] && typeof arguments[0] === 'string' && arguments[0].match(/cannot set property cookie of|localStorage may be/gi)) {\n    return;\n  }\n  if (arguments) {\n    warnCopy.apply(console, Array.prototype.slice.call(arguments));\n  }\n};\n!function () {\n  var analytics = window.analytics = window.analytics || [];\n  if (!analytics.initialize && !analytics.invoked) {\n    analytics.invoked = !0;\n    analytics.methods = ['reset', 'setAnonymousId', 'identify', 'track', 'page'];\n    analytics.factory = function (t) {\n      return function () {\n        var e = Array.prototype.slice.call(arguments);\n        e.unshift(t);\n        analytics.push(e);\n        return analytics;\n      };\n    };\n    for (var t = 0; t < analytics.methods.length; t++) {\n      var e = analytics.methods[t];\n      analytics[e] = analytics.factory(e);\n    }\n    analytics.load = function (token, options, endpoint) {\n      var n = document.createElement('script');\n      n.type = 'text/javascript';\n      n.async = !0;\n      n.src = endpoint + token + '/a.min.js';\n      var a = document.getElementsByTagName('script')[0];\n      a.parentNode.insertBefore(n, a);\n      analytics._loadOptions = options;\n    };\n    analytics.SNIPPET_VERSION = '4.1.0';\n    analytics.load(\"JabXayKea69oVRQrDghBRiGJ3g7pdHdP\", {\n      integrations: {\n        All: false,\n        'Segment.io': true\n      }\n    }, \"https://www.amboss.com/us/api/sprx/cdn/\");\n  }\n}();\nconst ambossAnkiVersion = () => {\n  return new Promise(resolve => {\n    pycmd('amboss:version:ankiVersion', result => {\n      resolve(result || 'unknown');\n    });\n  });\n};\nconst ambossAddonVersion = () => {\n  return new Promise(resolve => {\n    pycmd('amboss:version:addonVersion', result => {\n      resolve(result || 'unknown');\n    });\n  });\n};\nconst ambossAnonId = () => {\n  return new Promise(resolve => {\n    pycmd('amboss:profile:anonId', result => {\n      resolve(result || null);\n    });\n  });\n};\nconst ambossUserId = () => {\n  return new Promise(resolve => {\n    pycmd('amboss:profile:userId', result => {\n      resolve(result || null);\n    });\n  });\n};\nconst ambossContextOptions = () => {\n  return new Promise(resolve => {\n    Promise.all([ambossAnkiVersion(), ambossAddonVersion(), ambossAnonId(), ambossUserId()]).then(values => {\n      const [ankiVersion, addonVersion, anonId, userId] = values;\n      const options = _objectSpread(_objectSpread(_objectSpread({}, anonId ? {\n        anonymousId: anonId\n      } : {}), userId ? {\n        userId: userId\n      } : {}), {}, {\n        context: {\n          app: {\n            name: 'anki-addon',\n            version: addonVersion,\n            hostVersion: ankiVersion,\n            stage: \"production\",\n            ambossLanguage: \"en\",\n            channel: \"download\"\n          }\n        }\n      });\n      resolve(options);\n    });\n  });\n};\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nconst track = (name, properties = {}) => {\n  if (analytics) {\n    Promise.resolve(ambossContextOptions()).then((contextOptions = {}) => {\n      const {\n        userId,\n        anonymousId\n      } = contextOptions;\n      const analyticsUser = typeof analytics.user === 'function' ? analytics.user() : {};\n      const analyticsId = typeof analyticsUser.id === 'function' && analyticsUser.id();\n      const analyticsAnonymousId = typeof analyticsUser.anonymousId === 'function' && analyticsUser.anonymousId();\n      const reset = typeof analytics.reset === 'function' && analytics.reset;\n      const identify = typeof analytics.identify === 'function' && analytics.identify;\n      const setAnonymousId = typeof analytics.setAnonymousId === 'function' && analytics.setAnonymousId;\n      if (!userId && analyticsId && reset) {\n        reset();\n      } else if (userId && userId !== analyticsId && identify) {\n        identify(userId);\n      }\n      if (anonymousId && anonymousId !== analyticsAnonymousId && setAnonymousId) {\n        setAnonymousId(anonymousId);\n      }\n      analytics.track(`anki-addon.${name}`, properties, contextOptions);\n      if (false) {}\n    });\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbWJvc3NBZGRvbi5bbmFtZV0vLi9zcmMvd2ViL2FuYWx5dGljcy9hbmFseXRpY3MuanM/NDAwNyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsIl9fZGVmaW5lR2V0dGVyX18iLCJ3YXJuQ29weSIsImNvbnNvbGUiLCJ3YXJuIiwibG9nIiwiYXJndW1lbnRzIiwibWF0Y2giLCJhcHBseSIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYW5hbHl0aWNzIiwid2luZG93IiwiaW5pdGlhbGl6ZSIsImludm9rZWQiLCJtZXRob2RzIiwiZmFjdG9yeSIsInQiLCJlIiwidW5zaGlmdCIsInB1c2giLCJsZW5ndGgiLCJsb2FkIiwidG9rZW4iLCJvcHRpb25zIiwiZW5kcG9pbnQiLCJuIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJhc3luYyIsInNyYyIsImEiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJfbG9hZE9wdGlvbnMiLCJTTklQUEVUX1ZFUlNJT04iLCJBTUJPU1NfQU5BTFlUSUNTX0tFWSIsImludGVncmF0aW9ucyIsIkFsbCIsIkFNQk9TU19BTkFMWVRJQ1NfVVJMIiwiYW1ib3NzQW5raVZlcnNpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInB5Y21kIiwicmVzdWx0IiwiYW1ib3NzQWRkb25WZXJzaW9uIiwiYW1ib3NzQW5vbklkIiwiYW1ib3NzVXNlcklkIiwiYW1ib3NzQ29udGV4dE9wdGlvbnMiLCJhbGwiLCJ0aGVuIiwidmFsdWVzIiwiYW5raVZlcnNpb24iLCJhZGRvblZlcnNpb24iLCJhbm9uSWQiLCJ1c2VySWQiLCJfb2JqZWN0U3ByZWFkIiwiYW5vbnltb3VzSWQiLCJjb250ZXh0IiwiYXBwIiwibmFtZSIsInZlcnNpb24iLCJob3N0VmVyc2lvbiIsInN0YWdlIiwiQU1CT1NTX1NUQUdFIiwiYW1ib3NzTGFuZ3VhZ2UiLCJBTUJPU1NfTEFOR1VBR0UiLCJjaGFubmVsIiwiQU1CT1NTX0RJU1RSSUJVVElPTl9DSEFOTkVMIiwidHJhY2siLCJwcm9wZXJ0aWVzIiwiY29udGV4dE9wdGlvbnMiLCJhbmFseXRpY3NVc2VyIiwidXNlciIsImFuYWx5dGljc0lkIiwiaWQiLCJhbmFseXRpY3NBbm9ueW1vdXNJZCIsInJlc2V0IiwiaWRlbnRpZnkiLCJzZXRBbm9ueW1vdXNJZCIsIkFNQk9TU19ERUJVRyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBQSxRQUFRLENBQUNDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxZQUFZO0VBQzlDLE9BQU8sRUFBRTtBQUNYLENBQUMsQ0FBQztBQUNGLE1BQU1DLFFBQVEsR0FBR0MsT0FBTyxDQUFDQyxJQUFJO0FBQzdCRCxPQUFPLENBQUNDLElBQUksR0FBRyxTQUFTQyxHQUFHQSxDQUFBLEVBQUc7RUFDNUIsSUFDRUMsU0FBUyxJQUNUQSxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQ1osT0FBT0EsU0FBUyxDQUFDLENBQUMsQ0FBQyxLQUFLLFFBQVEsSUFDaENBLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsS0FBSyxDQUFDLHFEQUFxRCxDQUFDLEVBQ3pFO0lBQ0E7RUFDRjtFQUNBLElBQUlELFNBQVMsRUFBRTtJQUNiSixRQUFRLENBQUNNLEtBQUssQ0FBQ0wsT0FBTyxFQUFFTSxLQUFLLENBQUNDLFNBQVMsQ0FBQ0MsS0FBSyxDQUFDQyxJQUFJLENBQUNOLFNBQVMsQ0FBQyxDQUFDO0VBQ2hFO0FBQ0YsQ0FBQztBQUVELENBQUUsWUFBWTtFQUNaLElBQUlPLFNBQVMsR0FBSUMsTUFBTSxDQUFDRCxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0QsU0FBUyxJQUFJLEVBQUc7RUFDM0QsSUFBSSxDQUFDQSxTQUFTLENBQUNFLFVBQVUsSUFBSSxDQUFDRixTQUFTLENBQUNHLE9BQU8sRUFBRTtJQUMvQ0gsU0FBUyxDQUFDRyxPQUFPLEdBQUcsQ0FBQyxDQUFDO0lBQ3RCSCxTQUFTLENBQUNJLE9BQU8sR0FBRyxDQUFDLE9BQU8sRUFBRSxnQkFB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QUFjLEVBQUU7UUFDekVBLGNBQWMsQ0FBQ3RCLFdBQVcsQ0FBQztNQUM3QjtNQUVBL0MsU0FBUyxDQUFDMkQsS0FBSyxDQUFFLGNBQWFULElBQUssRUFBQyxFQUFFVSxVQUFVLEVBQUVDLGNBQWMsQ0FBQztNQUVqRSxJQUFJUyxLQUFZLEVBQUUsRUFFakI7SUFDSCxDQUFDLENBQUM7RUFDSjtBQUNGLENBQUMiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGRpc2FibGUgY29va2llc1xuZG9jdW1lbnQuX19kZWZpbmVHZXR0ZXJfXygnY29va2llJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gJydcbn0pXG5jb25zdCB3YXJuQ29weSA9IGNvbnNvbGUud2FyblxuY29uc29sZS53YXJuID0gZnVuY3Rpb24gbG9nKCkge1xuICBpZiAoXG4gICAgYXJndW1lbnRzICYmXG4gICAgYXJndW1lbnRzWzBdICYmXG4gICAgdHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ3N0cmluZycgJiZcbiAgICBhcmd1bWVudHNbMF0ubWF0Y2goL2Nhbm5vdCBzZXQgcHJvcGVydHkgY29va2llIG9mfGxvY2FsU3RvcmFnZSBtYXkgYmUvZ2kpXG4gICkge1xuICAgIHJldHVyblxuICB9XG4gIGlmIChhcmd1bWVudHMpIHtcbiAgICB3YXJuQ29weS5hcHBseShjb25zb2xlLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKVxuICB9XG59XG5cbiEoZnVuY3Rpb24gKCkge1xuICB2YXIgYW5hbHl0aWNzID0gKHdpbmRvdy5hbmFseXRpY3MgPSB3aW5kb3cuYW5hbHl0aWNzIHx8IFtdKVxuICBpZiAoIWFuYWx5dGljcy5pbml0aWFsaXplICYmICFhbmFseXRpY3MuaW52b2tlZCkge1xuICAgIGFuYWx5dGljcy5pbnZva2VkID0gITBcbiAgICBhbmFseXRpY3MubWV0aG9kcyA9IFsncmVzZXQnLCAnc2V0QW5vbnltb3VzSWQnLCAnaWRlbnRpZnknLCAndHJhY2snLCAncGFnZSddXG4gICAgYW5hbHl0aWNzLmZhY3RvcnkgPSBmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGUgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gICAgICAgIGUudW5zaGlmdCh0KVxuICAgICAgICBhbmFseXRpY3MucHVzaChlKVxuICAgICAgICByZXR1cm4gYW5hbHl0aWNzXG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgYW5hbHl0aWNzLm1ldGhvZHMubGVuZ3RoOyB0KyspIHtcbiAgICAgIHZhciBlID0gYW5hbHl0aWNzLm1ldGhvZHNbdF1cbiAgICAgIGFuYWx5dGljc1tlXSA9IGFuYWx5dGljcy5mYWN0b3J5KGUpXG4gICAgfVxuICAgIGFuYWx5dGljcy5sb2FkID0gZnVuY3Rpb24gKHRva2VuLCBvcHRpb25zLCBlbmRwb2ludCkge1xuICAgICAgdmFyIG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKVxuICAgICAgbi50eXBlID0gJ3RleHQvamF2YXNjcmlwdCdcbiAgICAgIG4uYXN5bmMgPSAhMFxuICAgICAgbi5zcmMgPSBlbmRwb2ludCArIHRva2VuICsgJy9hLm1pbi5qcydcbiAgICAgIHZhciBhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdXG4gICAgICBhLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sIGEpXG4gICAgICBhbmFseXRpY3MuX2xvYWRPcHRpb25zID0gb3B0aW9uc1xuICAgIH1cbiAgICBhbmFseXRpY3MuU05JUFBFVF9WRVJTSU9OID0gJzQuMS4wJ1xuICAgIGFuYWx5dGljcy5sb2FkKFxuICAgICAgQU1CT1NTX0FOQUxZVElDU19LRVksXG4gICAgICB7XG4gICAgICAgIGludGVncmF0aW9uczogeyBBbGw6IGZhbHNlLCAnU2VnbWVudC5pbyc6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgICBBTUJPU1NfQU5BTFlUSUNTX1VSTFxuICAgIClcbiAgfVxufSkoKVxuXG5jb25zdCBhbWJvc3NBbmtpVmVyc2lvbiA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgcHljbWQoJ2FtYm9zczp2ZXJzaW9uOmFua2lWZXJzaW9uJywgKHJlc3VsdCkgPT4ge1xuICAgICAgcmVzb2x2ZShyZXN1bHQgfHwgJ3Vua25vd24nKVxuICAgIH0pXG4gIH0pXG59XG5cbmNvbnN0IGFtYm9zc0FkZG9uVmVyc2lvbiA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgcHljbWQoJ2FtYm9zczp2ZXJzaW9uOmFkZG9uVmVyc2lvbicsIChyZXN1bHQpID0+IHtcbiAgICAgIHJlc29sdmUocmVzdWx0IHx8ICd1bmtub3duJylcbiAgICB9KVxuICB9KVxufVxuXG5jb25zdCBhbWJvc3NBbm9uSWQgPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIHB5Y21kKCdhbWJvc3M6cHJvZmlsZTphbm9uSWQnLCAocmVzdWx0KSA9PiB7XG4gICAgICByZXNvbHZlKHJlc3VsdCB8fCBudWxsKVxuICAgIH0pXG4gIH0pXG59XG5cbmNvbnN0IGFtYm9zc1VzZXJJZCA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgcHljbWQoJ2FtYm9zczpwcm9maWxlOnVzZXJJZCcsIChyZXN1bHQpID0+IHtcbiAgICAgIHJlc29sdmUocmVzdWx0IHx8IG51bGwpXG4gICAgfSlcbiAgfSlcbn1cblxuY29uc3QgYW1ib3NzQ29udGV4dE9wdGlvbnMgPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIFByb21pc2UuYWxsKFthbWJvc3NBbmtpVmVyc2lvbigpLCBhbWJvc3NBZGRvblZlcnNpb24oKSwgYW1ib3NzQW5vbklkKCksIGFtYm9zc1VzZXJJZCgpXSkudGhlbigodmFsdWVzKSA9PiB7XG4gICAgICBjb25zdCBbYW5raVZlcnNpb24sIGFkZG9uVmVyc2lvbiwgYW5vbklkLCB1c2VySWRdID0gdmFsdWVzXG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAuLi4oYW5vbklkID8geyBhbm9ueW1vdXNJZDogYW5vbklkIH0gOiB7fSksXG4gICAgICAgIC4uLih1c2VySWQgPyB7IHVzZXJJZDogdXNlcklkIH0gOiB7fSksXG4gICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICBhcHA6IHtcbiAgICAgICAgICAgIG5hbWU6ICdhbmtpLWFkZG9uJyxcbiAgICAgICAgICAgIHZlcnNpb246IGFkZG9uVmVyc2lvbixcbiAgICAgICAgICAgIGhvc3RWZXJzaW9uOiBhbmtpVmVyc2lvbixcbiAgICAgICAgICAgIHN0YWdlOiBBTUJPU1NfU1RBR0UsXG4gICAgICAgICAgICBhbWJvc3NMYW5ndWFnZTogQU1CT1NTX0xBTkdVQUdFLFxuICAgICAgICAgICAgY2hhbm5lbDogQU1CT1NTX0RJU1RSSUJVVElPTl9DSEFOTkVMLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgICByZXNvbHZlKG9wdGlvbnMpXG4gICAgfSlcbiAgfSlcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmV4cG9ydCBjb25zdCB0cmFjayA9IChuYW1lLCBwcm9wZXJ0aWVzID0ge30pID0+IHtcbiAgaWYgKGFuYWx5dGljcykge1xuICAgIFByb21pc2UucmVzb2x2ZShhbWJvc3NDb250ZXh0T3B0aW9ucygpKS50aGVuKChjb250ZXh0T3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCB7IHVzZXJJZCwgYW5vbnltb3VzSWQgfSA9IGNvbnRleHRPcHRpb25zXG4gICAgICBjb25zdCBhbmFseXRpY3NVc2VyID0gdHlwZW9mIGFuYWx5dGljcy51c2VyID09PSAnZnVuY3Rpb24nID8gYW5hbHl0aWNzLnVzZXIoKSA6IHt9XG4gICAgICBjb25zdCBhbmFseXRpY3NJZCA9IHR5cGVvZiBhbmFseXRpY3NVc2VyLmlkID09PSAnZnVuY3Rpb24nICYmIGFuYWx5dGljc1VzZXIuaWQoKVxuICAgICAgY29uc3QgYW5hbHl0aWNzQW5vbnltb3VzSWQgPSB0eXBlb2YgYW5hbHl0aWNzVXNlci5hbm9ueW1vdXNJZCA9PT0gJ2Z1bmN0aW9uJyAmJiBhbmFseXRpY3NVc2VyLmFub255bW91c0lkKClcblxuICAgICAgY29uc3QgcmVzZXQgPSB0eXBlb2YgYW5hbHl0aWNzLnJlc2V0ID09PSAnZnVuY3Rpb24nICYmIGFuYWx5dGljcy5yZXNldFxuICAgICAgY29uc3QgaWRlbnRpZnkgPSB0eXBlb2YgYW5hbHl0aWNzLmlkZW50aWZ5ID09PSAnZnVuY3Rpb24nICYmIGFuYWx5dGljcy5pZGVudGlmeVxuICAgICAgY29uc3Qgc2V0QW5vbnltb3VzSWQgPSB0eXBlb2YgYW5hbHl0aWNzLnNldEFub255bW91c0lkID09PSAnZnVuY3Rpb24nICYmIGFuYWx5dGljcy5zZXRBbm9ueW1vdXNJZFxuXG4gICAgICBpZiAoIXVzZXJJZCAmJiBhbmFseXRpY3NJZCAmJiByZXNldCkge1xuICAgICAgICByZXNldCgpXG4gICAgICB9IGVsc2UgaWYgKHVzZXJJZCAmJiB1c2VySWQgIT09IGFuYWx5dGljc0lkICYmIGlkZW50aWZ5KSB7XG4gICAgICAgIGlkZW50aWZ5KHVzZXJJZClcbiAgICAgIH1cbiAgICAgIGlmIChhbm9ueW1vdXNJZCAmJiBhbm9ueW1vdXNJZCAhPT0gYW5hbHl0aWNzQW5vbnltb3VzSWQgJiYgc2V0QW5vbnltb3VzSWQpIHtcbiAgICAgICAgc2V0QW5vbnltb3VzSWQoYW5vbnltb3VzSWQpXG4gICAgICB9XG5cbiAgICAgIGFuYWx5dGljcy50cmFjayhgYW5raS1hZGRvbi4ke25hbWV9YCwgcHJvcGVydGllcywgY29udGV4dE9wdGlvbnMpXG5cbiAgICAgIGlmIChBTUJPU1NfREVCVUcpIHtcbiAgICAgICAgY29uc29sZS5sb2coYHRyYWNrKCR7bmFtZX0sICR7SlNPTi5zdHJpbmdpZnkocHJvcGVydGllcyl9LCAke0pTT04uc3RyaW5naWZ5KGNvbnRleHRPcHRpb25zKX0pYClcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n")}});